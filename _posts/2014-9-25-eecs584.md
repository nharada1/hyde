---
layout: post
title: Paper Review - H-Store&#58 A High-Performance, Distributed Main Memory Transaction Processing System
category: eecs584
---
In this demo paper from 2008, the authors demonstrate H-Store, a shared nothing main memory database system. In their previous paper on OTLP and main memory databases, the authors lay the groundwork for this database and describe some of the problems of traditional DMBSes and potential new architectures to be considered. Specifically, the authors argue that extending traditional structures such as locks and buffer managers to main memory databases is detrimental, and that an entirely new architecture could be constructed to better take advantage of the capabilities inherent in an MMDB. 

In H-Store, the authors completely eliminate locking and latching by distributing the filesystem throughout multiple sites, and storing disjoint sets of data among them. Because each H-Store site is single threaded and operates on its own memory, the system is able to remove locks entirely while maintaining parallelism via multiple sites per CPU and multiple CPUs per node. This architecture also allows H-Store to easily redistribute processing load across the cluster - incoming transactions are handled at each site and then, if possible, rerouted to their proper sites.

Another important architecture decision of H-Store was the separation of deployment and runtime. During system deployment, the database administrator must predefine transactions in the form of *stored procedures*. By precompiling transactions, H-Store is able to improve performance (by allowing direct access to memory), as well as eliminate locking (by reasoning about data layout at dispatch time). In addition, after construction, the database is optimized to the parameters at deployment and will not fare well when adding new procedures (although this is possible). This separation of deploy and runtime is a point of strength and weakness in H-Store, and allows the database to trade performance for flexibility. 

H-Store uses redundancy to operate without any disk storage at all. This presents a potential problem that goes un-addressed in this paper - what happens if power fails to a data center. The way H-Store is described here, all data will be permanently lost because there is no disk storage at all. Redundancy assumes individual sites or nodes may fail, but that in the end there will be enough of the cluster up to recover the lost data. For a production system, this would be catastrophic, and a real-world deployment of H-Store would certainly require checkpointing or snapshotting to disk. Another weakness of this system is its deploy-time capability. Not only is everything required at deploy time, but there is no automatic database layout design, which leaves work to the administrator. This is a weakness of the system, although the authors do acknowledge that the limitation exists and there is active work to remedy the problem.
