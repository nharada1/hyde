---
layout: post
title: Paper Review - R-Trees
category: eecs584
---

This paper is the seminal paper for the R-Tree, published in 1984 by Antonin Guttman at Berkeley. At the time of writing, current indexing structures could not easily support spatial data such as CAD or mapping data. One dimensional data structures fail on multiple dimensions, and multi-dimensional methods generally fail for practical considerations (ie memory or time complexity) or cannot support ranges of data. The R-tree represents objects by intervals in multiple dimensions.

The R-tree is similar to a B-tree, but instead of each leaf containing a single value the leaves of an R-tree contain an n-dimensional rectangle which is the bounding box of the spatial object the node indexes. Each parent node contains the children of that node, as well as the bounding box over all of the children. We can search through the tree by recursively searching for children which intersect the query bounding box S. At each leaf node of the qualifying children, we again check for intersection with S and if the leaf qualifies we add the leaf to the set of qualifying records. 

Insertion proceeds similar to a B-tree, except that splitting a node requires a heuristic process to limit to search space of the optimal case. The paper introduces a "quadratic search" as well as a "linear search" and compares the two - linear search exhibits faster inserts but similar resulting search performance. Deletion proceeds by removing the leaf, and if the resulting node is too small by re-inserting the orphan leaves into the next higher tier. 

Guttman's R-tree is impressive, and its utilization in modern indexing systems demonstrates its power. The algorithm presentation is particularly concise and easy to read. Nonetheless, the paper exhibits a few weaknesses. One common criticism of R-trees is that while searching multiple subtrees under a node may be visited. This means that worst-case performance is impossible to guarantee. Guttman does assert this fact, and additional research after publication attempts to add theoretical bounds. In practice, however, the R-tree is fast and efficient, and so the more complex descendants are rarely used.

It would have been beneficial for Guttman to compare his new structure to the other data structures he mentions in his introduction. While he dismisses most of them for one limitation or another, I would like to see some sort of demonstration that, for example, corner stitching is indeed inefficient for random searches of large data. I also thought his graphs seemed quite rough, owing to a small sample size. I would have liked to see both a larger sample size in his final plots, as well as using different input data instead of just one example. It's likely that the hardware at the time of writing was slow and that the included results alone took a long time to generate. 

One final subject that would have been beneficial to touch on are the practical considerations for such an index structure. In a full DBMS, the index structures must support proper locking and logging. Stonebraker claims in "Anatomy of a Database System" that the locking methods used on B+-Trees do not apply to R-trees. Although a full discussion would be out of the scope of the paper there is no mention of this issue even in passing.
