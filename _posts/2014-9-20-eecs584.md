---
layout: post
title: Paper Review - A Critique of ANSI SQL Isolation Levels 
category: eecs584
---
The ANSI SQL standard defines isolation levels in databases in terms of what is allowed to occur in the database. In this influential 1995 paper, the authors argue that this type of specification fails to properly describe isolation levels, and will allow certain corner cases to occur anyway. In the ANSI standard, phenomena are expressed in a written, English form that allows room for interpretation. This paper claims that isolation, instead of being expressed in terms of phenomena, should rather be expressed in terms of locking levels. The authors also characterize locking in a rigorous and more mathematically formal way that removes ambiguity from isolation levels. The mathematical formalism introduced to SQL isolation is an important contribution introduced by this paper, and terminology introduced here such as "loose" vs "strong" phenomena interpretation creates a framework that allows the authors to offer criticisms of the ANSI SQL standard.

The mathematical tools introduced in this paper allow the authors to introduce additional phenomena types: cursor stability and snapshot isolation. Of particular importance is snapshot isolation, which is widely deployed in modern database systems. Snapshot isolation offers better performance than serializable isolation while offering most of the same protections against anomalies. The paper shows, however, that snapshot isolation is *not* the serializable. This fact implies a failing of the ANSI SQL isolation levels - snapshot isolation exhibits no prohibited phenomena as defined by the ANSI standard, yet is not serializable and can still allow errors. The paper also offers a short description of other multi-version systems and compares them to snapshot isolation.

I like that this paper offers such a comprehensive analysis of isolation levels and that it offers precise definitions where ANSI failed. I would be interested to see how database definitions such as ANSI have adapted in the face of new evidence. A cursory Google search indicated that although this paper has been well cited and well received, there has not been an overhaul in the ANSI isolation level standards. I also think that the "first-committer-wins" feature seems like an easy but limiting solution to preventing lost updates in the snapshot transaction system. In a system with heavy latency or transaction costs, it seems that the DBMS could possibly resolve conflicts automatically. This would require some sort of merging algorithm, which is beyond the scope of this paper and would have tradeoffs in lost accuracy. 
